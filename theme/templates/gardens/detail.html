{% extends 'base.html' %}
{% load static %}


{% block content %}
<h1 class="flex justify-center m-auto mb-6"><strong>Garden: </strong>{{garden.name}}</h1>
<div class="grid grid-cols-flow grid-flow-row gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 mx-14">
    {% for plot in garden.plot_set.all %}
    <div class=>

        <div class="bg-green-200 border border-gray-900 min-w-40 min-h-40 flex justify-start flex-col">
            <div class="absolute top-0 right-0">
                <div x-data="{dropdownOpen: false}" class="absolute">
                    <button @click="dropdownOpen = !dropdownOpen" class="focus:outline-none focus:border-white">
                        <svg class="w-6 h-6 text-gray-800 dark:text-white z-10" aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="bg-black"
                            viewBox="-10 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-width="2"
                                d="M12 6h.01M12 12h.01M12 18h.01" />
                        </svg>
                    </button>
                    <div x-show="dropdownOpen" @click="dropdownOpen = false" class="absolute top-0 right-0">
                    </div>
                    <div x-show="dropdownOpen" class="absolute">
                        <div class="flex flex-wrap justify-center m-2">
                            <a class="btn-edit plot-btn w-0.5" href="{% url 'plot-update' plot.id %}">Edit</a>
                            <a class="btn-delete plot-btn w-0.5" href="{% url 'plot-delete' plot.id %}">Delete</a>
                        </div>
                    </div>
                </div>
            </div>
            <h2 class="text-xl font-bold">{{ plot.name }}</h2>
            <h3><strong>Days Since Last Watering:</strong> {{plot.days_since_watered}}</h3>
            <p><strong>Total Plants:</strong>{{plot.plant_set.count}}</p>

            <div class="flex flex-wrap justify-center m-2">

                <a class="btn-water plot-btn w-full" href="{% url 'plot-water' plot.id %}">Water Plot</a>
            </div>
        </div>

    </div>

    {% endfor %}
</div>
<div class="flex justify-center mt-44">
    <a href="{% url 'plot-create' garden.id%}">
        <p class=" bg-green-600 text-xl font-bold flex justify-center border w-fit ">Add a Plot</p>
    </a>
</div>
<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
{% endblock %}